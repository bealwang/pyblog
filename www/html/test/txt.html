<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset="utf-8" >
    <meta name = "author" content = "genialwang" >
    <meta name = "description" content="txt"><meta name = "Keywords" content="nihao">
    <title>博客</title>

    <link rel="stylesheet" href="../../static/css/uikit.almost-flat.min.css" />
    <link rel="stylesheet" href="../../static/css/font-awesome.min.css" />
    <link rel="stylesheet" href="../../static/css/font-awesome-ie7.min.css" />
    <link rel="stylesheet" href="../../static/css/genialwang.css" />
    <link rel="stylesheet" href="../../static/css/highlight.css" />
    <link rel="stylesheet" href="../../static/css/style.css" />
    <link rel="stylesheet" href="../../static/css/components/sticky.almost-flat.min.css" />
    <link rel="stylesheet" href="../../static/css/components/accordion.css" />
    <link rel="stylesheet" href="../../static/css/components/pygments.css" />
    
</head>
<body>
    <div class="uk-margin-bottom" data-uk-sticky id="sticky">
        <nav class="uk-navbar uk-navbar-attached uk-margin-bottom">
            <div class="uk-container uk-container-center">
                <a href="../../aboutme.html" class="uk-navbar-brand">GenialWang</a>
                <ul class="uk-navbar-nav">
                    <li><a href="../../index.html"><i class="uk-icon-book"></i> 博客</a></li>
                    <li><a href="../../aboutme.html"><i class="uk-icon-user"></i> 关于我</a></li>
                </ul>
            </div>
        </nav>
    </div>

    <div class="uk-container uk-container-center">
        <div class="uk-grid">
            <div class="uk-width-medium-3-10">
                <div data-uk-sticky="{top:50}">
                    <ul id="accordion" class="accordion">
		                <li>
                            <div class="link"><i class="fa fa-paint-brush"></i>导航1<i class="fa fa-chevron-down"></i></div>
			                <ul class="submenu">
                                <li><a href="#1" data-uk-smooth-scroll>子导航1</a></li>
			                </ul>
		                </li>
                        <li>
                            <div class="link"><i class="fa fa-paint-brush"></i>导航2<i class="fa fa-chevron-down"></i></div>
			                <ul class="submenu">
                                <li><a href="#2" data-uk-smooth-scroll>子导航2</a></li>
			                </ul>
                        </li>
                    </ul>
                </div>
                <!--
                <div class="uk-panel uk-panel-box" data-uk-sticky="{top:100}">
                    <ul class = "uk-dotnav uk-flex-column" data-uk-scrollspy-nav="{closest:'li', smoothscroll:true}" >
                        <li class = "uk-active"><a href="#1">导航1</a></li>
                        <li><a href="#2">导航2</a></li>
                    </ul>
                </div>
                -->
            </div>
        
            <div class="uk-width-medium-7-10 uk-container-center">
                <hr>
<h1 id="toc-0">MEHI</h1>
<p><a class="btn btn-info" href="http://hahack.com" target="_blank" rel="external">hahack</a>
Mouse Embryo Heart Imagery</p>
<p>╯　　　 　╰<br>
  ●　　　 　 ●<br>
  " 　 　^　　"</p>
<p><a href="https://travis-ci.org/septicmk/MEHI"><img src="https://travis-ci.org/septicmk/MEHI.svg" alt="Build Status"></a></p>
<h2 id="toc-1">About</h2>
<p>MEHI is a python library for processing large-scale 3D spatial and temporal mouse embryo date. the paralleled version is built on Spark.</p>
<p>MEHI includes the basic module for image processing, like preprocessing, registration, 2-side fusion, segmentation, tracking. the project contains two implementation, a paralleled version and a serial version. the paralleled version is written against Spark's Python API(Pyspark), making use of scipy, numpy, PuLP and pandas</p>
<h2 id="toc-2">Requirements</h2>
<ul>
<li>Python 2.7</li>
<li>numpy 1.9+</li>
<li>pandas 0.16.1+</li>
<li>matplotlib 1.4+</li>
<li>PyWavelet 0.2.2+</li>
<li>scikit-image 0.11+</li>
<li>scipy 0.15+</li>
<li>pyspark 1.3.0</li>
<li>Cython 0.21+ </li>
</ul>
<h2 id="toc-3">Quick Start</h2>
<p>The paralleled version is designed to run on a cluster, but currently, I just test it on local mode. Anyway, you can get it work by following steps.<br>
1) change the Input dir in the MEHI_global.py or in the MEHI_s_global.py</p>
<div class="source"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">MEHI</span>
<span class="n">left_pwd</span> <span class="o">=</span> <span class="s">&#39;your image dir&#39;</span>
<span class="n">right_pwd</span> <span class="o">=</span> <span class="s">&#39;your image dir&#39;</span>
</pre></div>
</td></tr></table></div>
<p>2) modify the MEHI_main.py or the MEHI_s_main.py to customize your workflow</p>
<div class="source"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="n">L_img_stack</span><span class="p">,</span> <span class="n">R_img_stack</span> <span class="o">=</span> <span class="n">init</span><span class="p">()</span>
<span class="n">rddA</span><span class="p">,</span> <span class="n">rddB</span> <span class="o">=</span> <span class="n">preprocess</span><span class="p">(</span><span class="n">L_img_stack</span><span class="p">,</span> <span class="n">R_img_stack</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">rddB</span> <span class="o">=</span> <span class="n">registration</span><span class="p">(</span><span class="n">rddA</span><span class="p">,</span> <span class="n">rddB</span><span class="p">,</span> <span class="n">conf</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">fuse_img</span> <span class="o">=</span> <span class="n">fusion</span><span class="p">(</span><span class="n">rddA</span><span class="p">,</span> <span class="n">rddB</span><span class="p">)</span>
<span class="n">segmentation</span><span class="p">(</span><span class="n">fuse_img</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>3) start MEHI from terminal</p>
<div class="source"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>python MEHI_s_main.py
</pre></div>
</td></tr></table></div>
<h2 id="toc-4">More Information</h2>
<h3 id="toc-5">MEHI is broadly organized into:</h3>
<ul>
<li>A main class with methods for initialization of Spark and control of the whole workflow.</li>
<li>Classes for image processing module,like MEHI_s_fusion.</li>
<li>Helper components like MEHI_s_IO, MEHI_s_common</li>
</ul>
<h3 id="toc-6">core API:</h3>
<p><strong>Preprocessing</strong>:</p>
<ul>
<li>stripe_removal(): 去横纹</li>
<li>intensity_normalization(): 亮度平衡，图像压缩</li>
<li>sub_background(): 减背景，去模糊  </li>
</ul>
<p><strong>Registation&amp;Fusion</strong>:</p>
<ul>
<li>mutual_info(): 计算互信息</li>
<li>q_powell(): 计算对准向量</li>
<li>get_trans(): 实施对准变换</li>
<li>q_fusion(): 图像融合  </li>
</ul>
<p><strong>Segmentation</strong>:</p>
<ul>
<li>Threshold(): otsu阈值粗分+watershed细分</li>
<li>Properties(): 计算分割块的属性(坐标,朝向,大小...)</li>
<li>Clustering(): 将2D分割按距离层次聚类</li>
<li>Check(): 可视化分割结果  </li>
</ul>
<h2 id="toc-7">License</h2>
<p>BSD</p>

            </div>
        </div>
    </div>

    <a href="#" onclick="gotoTop();return false;" class="totop"></a>

    <div class="uk-margin-large-top" style="background:#4b4a5e">
        <div class="uk-container uk-container-center uk-text-center">
            <div class="uk-panel uk-margin-top uk-margin-bottom">
                <p>
                    <a target="_blank" href="http://weibo.com/u/2935065297" class="uk-icon-button uk-icon-weibo"></a>
                    <a target="_blank" href="https://github.com/genialwang" class="uk-icon-button uk-icon-github"></a>
                    <a target="_blank" href="" class="uk-icon-button uk-icon-linkedin-square"></a>
                    <a target="_blank" href="" class="uk-icon-button uk-icon-twitter"></a>
                </p>
                <p id = "info">Powered by <a href="../../aboutme.html">GenialWang</a>. Copyright &copy; 2015.</p>
            </div>
        </div>
    </div>

    <script src="../../static/js/jquery.min.js"></script>
    <script src="../../static/js/uikit.min.js"></script>
    <script src="../../static/js/components/core.js"></script>
    <script src="../../static/js/components/sticky.min.js"></script>
    <script src="../../static/js/components/smooth-scroll.min.js"></script>
    <script src="../../static/js/components/scrollspy.js"></script>
    <script src="../../static/js/genialwang.js"></script>
    <script src="../../static/js/components/accordion.js"></script>
    <script src="../../static/js/components/google_analytics.js"></script>
<script>
	$('.tile').on('scrollSpy:enter', function() {
		console.log('enter:', $(this).attr('id'));
	});

	$('.tile').on('scrollSpy:exit', function() {
		console.log('exit:', $(this).attr('id'));
	});

	$('.tile').scrollSpy();
</script>
    <!--<script>
    $('[data-uk-scrollspy]').on('inview.uk.scrollspy', function(){
        // custom code...
        console.log($(this).attr("id"));
        $(".title").css("background-color","yellow");
    });
    </script>-->

</body>
</html>